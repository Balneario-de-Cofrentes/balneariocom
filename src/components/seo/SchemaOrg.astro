---
interface Props {
  type?: 'website' | 'localbusiness';
  pageUrl?: string;
  pageName?: string;
  description?: string;
}

const {
  type = 'website',
  pageUrl,
  pageName,
  description,
} = Astro.props;

const baseUrl = 'https://balneario.com';
const resolvedUrl = pageUrl || baseUrl;
const resolvedName = pageName || 'Balneario de Cofrentes';
const resolvedDescription = description || 'Balneario de Cofrentes, la clínica de longevidad más grande de Europa. Tratamientos termales, medicina regenerativa y programas de salud personalizados.';

const websiteSchema = {
  '@context': 'https://schema.org',
  '@type': 'WebSite',
  name: resolvedName,
  url: resolvedUrl,
  description: resolvedDescription,
};

const localBusinessSchema = {
  '@context': 'https://schema.org',
  '@type': 'HealthAndBeautyBusiness',
  name: resolvedName,
  image: `${baseUrl}/images/og-image.webp`,
  url: resolvedUrl,
  description: resolvedDescription,
  telephone: '+34 96 189 40 25',
  address: {
    '@type': 'PostalAddress',
    streetAddress: 'C/ Balneario s/n',
    addressLocality: 'Cofrentes',
    addressRegion: 'Valencia',
    postalCode: '46625',
    addressCountry: 'ES',
  },
  geo: {
    '@type': 'GeoCoordinates',
    latitude: 39.2333,
    longitude: -1.0167,
  },
  openingHoursSpecification: [{
    '@type': 'OpeningHoursSpecification',
    dayOfWeek: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'],
    opens: '09:00',
    closes: '21:00',
  }],
  priceRange: '65€ - 200€ por dia',
  aggregateRating: {
    '@type': 'AggregateRating',
    ratingValue: 4.3,
    reviewCount: 1200,
    bestRating: 5,
    worstRating: 1,
  },
};

const schema = type === 'localbusiness' ? localBusinessSchema : websiteSchema;
---

<script type="application/ld+json" set:html={JSON.stringify(schema)} />
