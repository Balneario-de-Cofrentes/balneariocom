---
import BaseLayout from '../layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';
import { parseContent, renderCleanedMarkdown } from '@/lib/markdown';
import { SimplifiedForm } from '@/components/forms/SimplifiedForm';

const pages = await getCollection('pages');
const page = pages.find(p => p.data.slug === 'escapada-termal');
const parsed = page ? parseContent(page.body || '') : null;
const html = parsed ? renderCleanedMarkdown(parsed.body) : '';
---

<BaseLayout title="Escapada Termal" description="Alojese en el Balneario de Cofrentes y disfrute de un circuito termal con alojamiento y pension.">
  <section class="bg-cream py-12 lg:py-20">
    <div class="mx-auto max-w-4xl px-6 lg:px-10">
      <h1 class="font-display text-4xl lg:text-5xl text-charcoal mb-8">Escapada Termal</h1>
      <div class="prose prose-lg max-w-none font-body" set:html={html} />
    </div>
  </section>

  <section class="bg-white py-12 lg:py-20">
    <div class="mx-auto max-w-2xl px-6 lg:px-10">
      <h2 class="font-display text-3xl text-charcoal mb-8 text-center">Reservar su escapada</h2>
      <SimplifiedForm client:visible />
    </div>
  </section>
</BaseLayout>
